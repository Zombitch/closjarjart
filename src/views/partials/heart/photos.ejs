<header class="flex flex-wrap items-center gap-2 mb-3">
  <div class="flex items-center gap-2">
    <% if (photos.length > 1) { %>
      <a id="deleteAllBtn" class="w-full sm:w-auto px-3 py-1.5 rounded bg-red-500 text-white text-sm hover:bg-red-600" onclick="fetch('/heart/photos',{method:'DELETE'}).then(function(data) {window.location.reload();});">
        Delete all photos
      </a>
    <% } %>
  </div>
  <a id="addPhotoBtn" class="w-full sm:w-auto px-3 py-1.5 rounded bg-cyan-600 text-white text-sm hover:bg-cyan-700">
    Ajouter des photos
  </a>
  <div class="mt-2 text-sm text-slate-500 text-right"><span id="selectedPhotoCount">Aucune</span> photo(s) sélectionnée(s)</div>

  <input name="cfg_photos" id="cfg_photos" type="file" accept="image/*" class="hidden" multiple/>
</header>

<section>
    
    <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
        <% photos.forEach(function(photo) { %>
            <div class="relative rounded-lg overflow-hidden border">
                <img src="<%= photo.url %>" alt="photo" class="rounded-lg object-cover w-full h-40 sm:h-48">

                <% if(photo.default == true) { %><span class="absolute top-2 left-2 bg-green-600 text-white text-xs px-2 py-0.5 rounded">Mis en avant</span><% } %>

                <div class="absolute bottom-2 left-1/2 -translate-x-1/2">
                    <a class="px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600" onclick="fetch('/heart/photo/<%= photo._id %>',{method:'DELETE'})">Supprimer</a>
                    <% if(photo.default != true) { %><a class="px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700" onclick="fetch('/heart/photo/setDefault/<%= photo._id %>',{method:'POST'}).then(function(data) {window.location.reload();});">Defaut</a><% } %>
                </div>
            </div>            
        <% }); %>
    </div>
</section>